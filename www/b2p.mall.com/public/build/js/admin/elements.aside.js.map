{"version":3,"sources":["elements.aside.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"elements.aside.js","sourcesContent":["/**\r\n <b>Content Slider</b>. with custom content and elements based on Bootstrap modals.\r\n*/\r\n(function($ , undefined) {\r\n\tvar $window = $(window);\r\n\r\n\tfunction Aside(modal, settings) {\r\n\t\tvar self = this;\r\n\t\r\n\t\tvar $modal = $(modal);\r\n\t\tvar placement = 'right', vertical = false;\r\n\t\tvar hasFade = $modal.hasClass('fade');//Bootstrap enables transition only when modal is \".fade\"\r\n\r\n\t\tvar attrib_values = ace.helper.getAttrSettings(modal, $.fn.ace_aside.defaults);\r\n\t\tthis.settings = $.extend({}, $.fn.ace_aside.defaults, settings, attrib_values);\r\n\t\t\r\n\t\t//if no scroll style specified and modal has dark background, let's make scrollbars 'white'\r\n\t\tif(this.settings.background && !settings.scroll_style && !attrib_values.scroll_style) { \r\n\t\t\tthis.settings.scroll_style = 'scroll-white no-track';\r\n\t\t}\r\n\r\n\t\t\r\n\t\tthis.container = this.settings.container;\r\n\t\tif(this.container) {\r\n\t\t\ttry {\r\n\t\t\t\tif( $(this.container).get(0) == document.body ) this.container = null;\r\n\t\t\t} catch(e) {}\r\n\t\t}\r\n\t\tif(this.container) {\r\n\t\t\tthis.settings.backdrop = false;//no backdrop when inside another element?\r\n\t\t\t$modal.addClass('aside-contained');\r\n\t\t}\r\n\r\n\t\t\r\n\t\tvar dialog = $modal.find('.modal-dialog');\r\n\t\tvar content = $modal.find('.modal-content');\r\n\t\tvar delay = 300;\r\n\t\t\r\n\t\tthis.initiate = function() {\r\n\t\t\tmodal.className = modal.className.replace(/(\\s|^)aside\\-(right|top|left|bottom)(\\s|$)/ig , '$1$3');\r\n\r\n\t\t\tplacement = this.settings.placement;\r\n\t\t\tif(placement) placement = $.trim(placement.toLowerCase());\r\n\t\t\tif(!placement || !(/right|top|left|bottom/.test(placement))) placement = 'right';\r\n\r\n\t\t\t$modal.attr('data-placement', placement);\r\n\t\t\t$modal.addClass('aside-' + placement);\r\n\t\t\t\r\n\t\t\tif( /right|left/.test(placement) ) {\r\n\t\t\t\tvertical = true;\r\n\t\t\t\t$modal.addClass('aside-vc');//vertical\r\n\t\t\t}\r\n\t\t\telse $modal.addClass('aside-hz');//horizontal\r\n\t\t\t\r\n\t\t\tif( this.settings.fixed ) $modal.addClass('aside-fixed');\r\n\t\t\tif( this.settings.background ) $modal.addClass('aside-dark');\r\n\t\t\tif( this.settings.offset ) $modal.addClass('navbar-offset');\r\n\t\t\t\r\n\t\t\tif( !this.settings.transition ) $modal.addClass('transition-off');\r\n\t\t\t\r\n\t\t\t$modal.addClass('aside-hidden');\r\n\r\n\t\t\tthis.insideContainer();\r\n\t\t\t\r\n\t\t\t/////////////////////////////\r\n\t\t\t\r\n\t\t\tdialog = $modal.find('.modal-dialog');\r\n\t\t\tcontent = $modal.find('.modal-content');\r\n\t\t\t\r\n\t\t\tif(!this.settings.body_scroll) {\r\n\t\t\t\t//don't allow body scroll when modal is open\r\n\t\t\t\t$modal.on('mousewheel.aside DOMMouseScroll.aside touchmove.aside pointermove.aside', function(e) {\r\n\t\t\t\t\tif( !$.contains(content[0], e.target) ) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif( this.settings.backdrop == false ) {\r\n\t\t\t\t$modal.addClass('no-backdrop');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tthis.show = function() {\r\n\t\t\tif(this.settings.backdrop == false) {\r\n\t\t\t  try {\r\n\t\t\t\t$modal.data('bs.modal').$backdrop.remove();\r\n\t\t\t  } catch(e){}\r\n\t\t\t}\r\n\t\r\n\t\t\tif(this.container) $(this.container).addClass('overflow-hidden');\r\n\t\t\telse $modal.css('position', 'fixed')\r\n\t\t\t\r\n\t\t\t$modal.removeClass('aside-hidden');\r\n\t\t}\r\n\t\t\r\n\t\tthis.hide = function() {\r\n\t\t\tif(this.container) {\r\n\t\t\t\tthis.container.addClass('overflow-hidden');\r\n\t\t\t\t\r\n\t\t\t\tif(ace.vars['firefox']) {\r\n\t\t\t\t\t//firefox needs a bit of forcing re-calculation\r\n\t\t\t\t\tmodal.offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\ttoggleButton();\r\n\t\t\t\r\n\t\t\tif(ace.vars['transition'] && !hasFade) {\r\n\t\t\t\t$modal.one('bsTransitionEnd', function() {\r\n\t\t\t\t\t$modal.addClass('aside-hidden');\r\n\t\t\t\t\t$modal.css('position', '');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(self.container) self.container.removeClass('overflow-hidden');\r\n\t\t\t\t}).emulateTransitionEnd(delay);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.shown = function() {\r\n\t\t\ttoggleButton();\r\n\t\t\t$('body').removeClass('modal-open').css('padding-right', '');\r\n\t\t\t\r\n\t\t\tif( this.settings.backdrop == 'invisible' ) {\r\n\t\t\t  try {\r\n\t\t\t\t$modal.data('bs.modal').$backdrop.css('opacity', 0);\r\n\t\t\t  } catch(e){}\r\n\t\t\t}\r\n\r\n\t\t\tvar size = !vertical ? dialog.height() : content.height();\r\n\t\t\tif(!ace.vars['touch']) {\r\n\t\t\t\tif(!content.hasClass('ace-scroll')) {\r\n\t\t\t\t\tcontent.ace_scroll({\r\n\t\t\t\t\t\t\tsize: size,\r\n\t\t\t\t\t\t\treset: true,\r\n\t\t\t\t\t\t\tmouseWheelLock: true,\r\n\t\t\t\t\t\t\tlockAnyway: !this.settings.body_scroll,\r\n\t\t\t\t\t\t\tstyleClass: this.settings.scroll_style,\r\n\t\t\t\t\t\t\t'observeContent': true,\r\n\t\t\t\t\t\t\t'hideOnIdle': !ace.vars['old_ie'],\r\n\t\t\t\t\t\t\t'hideDelay': 1500\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tcontent.addClass('overflow-scroll').css('max-height', size+'px');\r\n\t\t\t}\r\n\r\n\t\t\t$window\r\n\t\t\t.off('resize.modal.aside')\r\n\t\t\t.on('resize.modal.aside', function() {\r\n\t\t\t\tif(!ace.vars['touch']) {\r\n\t\t\t\t  content.ace_scroll('disable');//to get correct size when going from small window size to large size\r\n\t\t\t\t\tvar size = !vertical ? dialog.height() : content.height();\r\n\t\t\t\t\tcontent\r\n\t\t\t\t\t.ace_scroll('update', {'size': size})\r\n\t\t\t\t\t.ace_scroll('enable')\r\n\t\t\t\t\t.ace_scroll('reset');\r\n\t\t\t\t}\r\n\t\t\t\telse content.css('max-height', (!vertical ? dialog.height() : content.height())+'px');\r\n\t\t\t}).triggerHandler('resize.modal.aside');\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t///////////////////////////////////////////////////////////////////////////\r\n\t\t\tif(self.container && ace.vars['transition'] && !hasFade) {\r\n\t\t\t\t$modal.one('bsTransitionEnd', function() {\r\n\t\t\t\t\tself.container.removeClass('overflow-hidden')\r\n\t\t\t\t}).emulateTransitionEnd(delay);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tthis.hidden = function() {\r\n\t\t\t$window.off('.aside')\r\n\t\t\t//$modal.off('.aside')\r\n\t\t\t//\t\t\t\r\n\t\t\tif( !ace.vars['transition'] || hasFade ) {\r\n\t\t\t\t$modal.addClass('aside-hidden');\r\n\t\t\t\t$modal.css('position', '');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tthis.insideContainer = function() {\r\n\t\t\tvar container = $('.main-container');\r\n\r\n\t\t\tvar dialog = $modal.find('.modal-dialog');\r\n\t\t\tdialog.css({'right': '', 'left': ''});\r\n\t\t\tif( container.hasClass('container') ) {\r\n\t\t\t\tvar flag = false;\r\n\t\t\t\tif(vertical == true) {\r\n\t\t\t\t\tdialog.css( placement, parseInt(($window.width() - container.width()) / 2) );\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//strange firefox issue, not redrawing properly on window resize (zoom in/out)!!!!\r\n\t\t\t\t//--- firefix is still having issue!\r\n\t\t\t\tif(flag && ace.vars['firefox']) {\r\n\t\t\t\t\tace.helper.redraw(container[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.flip = function() {\r\n\t\t\tvar flipSides = {right : 'left', left : 'right', top: 'bottom', bottom: 'top'};\r\n\t\t\t$modal.removeClass('aside-'+placement).addClass('aside-'+flipSides[placement]);\r\n\t\t\tplacement = flipSides[placement];\r\n\t\t}\r\n\r\n\t\tvar toggleButton = function() {\r\n\t\t\tvar btn = $modal.find('.aside-trigger');\r\n\t\t\tif(btn.length == 0) return;\r\n\t\t\tbtn.toggleClass('open');\r\n\t\t\t\r\n\t\t\tvar icon = btn.find(ace.vars['.icon']);\r\n\t\t\tif(icon.length == 0) return;\r\n\t\t\ticon.toggleClass(icon.attr('data-icon1') + \" \" + icon.attr('data-icon2'));\r\n\t\t}\r\n\t\t\r\n\r\n\t\tthis.initiate();\r\n\t\t\r\n\t\tif(this.container) this.container = $(this.container);\r\n\t\t$modal.appendTo(this.container || 'body'); \r\n\t}\r\n\r\n\r\n\t$(document)\r\n\t.on('show.bs.modal', '.modal.aside', function(e) {\r\n\t\t$('.aside.in').modal('hide');//??? hide previous open ones?\r\n\t\t$(this).ace_aside('show');\r\n\t})\r\n\t.on('hide.bs.modal', '.modal.aside', function(e) {\r\n\t\t$(this).ace_aside('hide');\r\n\t})\r\n\t.on('shown.bs.modal', '.modal.aside', function(e) {\r\n\t\t$(this).ace_aside('shown');\r\n\t})\r\n\t.on('hidden.bs.modal', '.modal.aside', function(e) {\r\n\t\t$(this).ace_aside('hidden');\r\n\t})\r\n\t\r\n\t\r\n\r\n\t\r\n\t$(window).on('resize.aside_container', function() {\r\n\t\t$('.modal.aside').ace_aside('insideContainer');\r\n\t});\r\n\t$(document).on('settings.ace.aside', function(e, event_name) {\r\n\t\tif(event_name == 'main_container_fixed') $('.modal.aside').ace_aside('insideContainer');\r\n\t});\r\n\r\n\t$.fn.aceAside = $.fn.ace_aside = function (option, value) {\r\n\t\tvar method_call;\r\n\r\n\t\tvar $set = this.each(function () {\r\n\t\t\tvar $this = $(this);\r\n\t\t\tvar data = $this.data('ace_aside');\r\n\t\t\tvar options = typeof option === 'object' && option;\r\n\r\n\t\t\tif (!data) $this.data('ace_aside', (data = new Aside(this, options)));\r\n\t\t\tif (typeof option === 'string' && typeof data[option] === 'function') {\r\n\t\t\t\tif(value instanceof Array) method_call = data[option].apply(data, value);\r\n\t\t\t\telse method_call = data[option](value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn (method_call === undefined) ? $set : method_call;\r\n\t}\r\n\t\r\n\t$.fn.ace_aside.defaults = {\r\n\t\tfixed: false,\r\n\t\tbackground: false,\r\n\t\toffset: false,\r\n\t\tbody_scroll: false,\r\n\t\ttransition: true,\r\n\t\tscroll_style: 'scroll-dark no-track',\r\n\t\tcontainer: null,\r\n\t\tbackdrop: false,\r\n\t\tplacement: 'right'\r\n     }\r\n\r\n})(window.jQuery);"],"sourceRoot":"/source/"}