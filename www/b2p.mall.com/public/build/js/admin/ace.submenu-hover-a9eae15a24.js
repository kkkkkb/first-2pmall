!function(e,s){function t(s,t){function l(s){var t=s,a=e(t),r=null,o=!1;this.show=function(){null!=r&&clearTimeout(r),r=null,a.addClass("hover-show hover-shown"),o=!0;for(var e=0;e<i.length;e++)i[e].find(".hover-show").not(".hover-shown").each(function(){n(this).hide()})},this.hide=function(){o=!1,a.removeClass("hover-show hover-shown hover-flip"),null!=r&&clearTimeout(r),r=null;var e=a.find("> .submenu").get(0);e&&h(e,"hide")},this.hideDelay=function(e){null!=r&&clearTimeout(r),a.removeClass("hover-shown"),r=setTimeout(function(){o=!1,a.removeClass("hover-show hover-flip"),r=null;var s=a.find("> .submenu").get(0);s&&h(s,"hide"),"function"==typeof e&&e.call(this)},d.settings.sub_hover_delay)},this.is_visible=function(){return o}}function n(s){var t=e(s).data("subHide");return t||e(s).data("subHide",t=new l(s)),t}function h(s,t){var a=e(s).data("ace_scroll");return!!a&&("string"==typeof t?(a[t](),!0):a)}function c(t){var a=e(this),o=e(t);t.style.top="",t.style.bottom="";var i=null;b.minimized&&(i=a.find(".menu-text").get(0))&&(i.style.marginTop="");var l=ace.helper.scrollTop(),n=0,c=l;C&&(n=s.offsetTop,c+=n+1);var d=a.offset();d.top=parseInt(d.top);var v,f=0;t.style.maxHeight="";var _=t.scrollHeight,v=a.height();i&&(f=v,d.top+=f);var g=parseInt(d.top+_),w=0,T=y.height(),H=parseInt(d.top-c-f),I=T,k=b.horizontal,z=!1;k&&this.parentNode==p&&(w=0,d.top+=a.height(),z=!0),!z&&(w=g-(T+l))>=0&&(w=w<H?w:H,0==w&&(w=20),H-w>10&&(w+=parseInt(Math.min(25,H-w))),d.top+(v-f)>g-w&&(w-=d.top+(v-f)-(g-w)),w>0&&(t.style.top=-w+"px",i&&(i.style.marginTop=-w+"px"))),w<0&&(w=0);var S=w>0&&w>v-20;if(S?a.addClass("pull_up"):a.removeClass("pull_up"),k)if(a.parent().parent().hasClass("hover-flip"))a.addClass("hover-flip");else{var D=o.offset(),M=o.width(),N=y.width();D.left+M>N&&a.addClass("hover-flip")}var j=a.hasClass("hover")&&!b.mobile_view;if(!(j&&o.find("> li > .submenu").length>0)){var P=I-(d.top-l)+w,W=w-P;if(W>0&&W<v&&(P+=parseInt(Math.max(v,v-W))),P-=5,!(P<90)){var q=!1;if(r)o.addClass("sub-scroll").css("max-height",P+"px");else{if(q=h(t),0==q){o.ace_scroll({observeContent:!0,detached:!0,updatePos:!1,reset:!0,mouseWheelLock:!0,styleClass:u.settings.sub_scroll_style}),q=h(t);var A=q.get_track();A&&o.after(A)}q.update({size:P})}if(x=P,!r&&q){P>14&&_-P>4?(q.enable(),q.reset()):q.disable();var A=q.get_track();if(A){A.style.top=-(w-f-1)+"px";var d=o.position(),L=d.left;L+=m?2:o.outerWidth()-q.track_size(),A.style.left=parseInt(L)+"px",z&&(A.style.left=parseInt(L-2)+"px",A.style.top=parseInt(d.top)+(i?f-2:0)+"px")}}ace.vars.safari&&ace.helper.redraw(t)}}}var u=this,d=this,v=ace.helper.getAttrSettings(s,e.fn.ace_sidebar_hover.defaults);this.settings=e.extend({},e.fn.ace_sidebar_hover.defaults,t,v);var f=e(s),p=f.find(".nav-list").get(0);f.attr("data-sidebar-hover","true"),i.push(f);var b={},_=ace.vars.old_ie,m=!1,g=u.settings.sub_hover_delay||!1;a&&g&&(u.settings.sub_hover_delay=parseInt(Math.max(u.settings.sub_hover_delay,2500)));var y=e(window),w=e(".navbar").eq(0),C="fixed"==w.css("position");this.update_vars=function(){C="fixed"==w.css("position")},u.dirty=!1,this.reset=function(){0!=u.dirty&&(u.dirty=!1,f.find(".submenu").each(function(){var s=e(this),t=s.parent();s.css({top:"",bottom:"","max-height":""}),s.hasClass("ace-scroll")?s.ace_scroll("disable"):s.removeClass("sub-scroll"),o(this,"absolute")?s.addClass("can-scroll"):s.removeClass("can-scroll"),t.removeClass("pull_up").find(".menu-text:first").css("margin-top","")}),f.find(".hover-show").removeClass("hover-show hover-shown hover-flip"))},this.updateStyle=function(e){sub_scroll_style=e,f.find(".submenu.ace-scroll").ace_scroll("update",{styleClass:e})},this.changeDir=function(e){m="right"===e};var x=-1;r||f.on("hide.ace.submenu.sidebar_hover",".submenu",function(s){if(!(x<1)){s.stopPropagation();var t=e(this).closest(".ace-scroll.can-scroll");0!=t.length&&o(t[0],"absolute")&&t[0].scrollHeight-this.scrollHeight<x&&t.ace_scroll("disable")}}),r||f.on("shown.ace.submenu.sidebar_hover hidden.ace.submenu.sidebar_hover",".submenu",function(s){if(!(x<1)){var t=e(this).closest(".ace-scroll.can-scroll");if(0!=t.length&&o(t[0],"absolute")){var a=t[0].scrollHeight;x>14&&a-x>4?t.ace_scroll("enable").ace_scroll("reset"):t.ace_scroll("disable")}}});var T=-1,H=a?"touchstart.sub_hover":"mouseenter.sub_hover",I=a?"touchend.sub_hover touchcancel.sub_hover":"mouseleave.sub_hover";f.on(H,".nav-list li, .sidebar-shortcuts",function(s){if(b=f.ace_sidebar("vars"),!b.collapsible){var t=e(this),r=!1,i=t.hasClass("hover"),l=t.find("> .submenu").get(0);if(!(l||this.parentNode==p||i||(r=t.hasClass("sidebar-shortcuts"))))return void(l&&e(l).removeClass("can-scroll"));var h=l,d=!1;if(h||this.parentNode!=p||(h=t.find("> a > .menu-text").get(0)),!h&&r&&(h=t.find(".sidebar-shortcuts-large").get(0)),!(h&&(d=o(h,"absolute"))||i))return void(l&&e(l).removeClass("can-scroll"));var v=g?n(this):null;if(l)if(d){u.dirty=!0;var m=ace.helper.scrollTop();if(g&&!v.is_visible()||!a&&m!=T||_)if(e(l).addClass("can-scroll"),_||a){var y=this;setTimeout(function(){c.call(y,l)},0)}else c.call(this,l);T=m}else e(l).removeClass("can-scroll");g&&v.show()}}).on(I,".nav-list li, .sidebar-shortcuts",function(s){b=f.ace_sidebar("vars"),b.collapsible||e(this).hasClass("hover-show")&&g&&n(this).hideDelay()})}if(!ace.vars.very_old_ie){var a=ace.vars.touch,r=ace.vars.old_ie||a,o="getComputedStyle"in window?function(e,s){return e.offsetHeight,window.getComputedStyle(e).position==s}:function(s,t){return s.offsetHeight,e(s).css("position")==t};e(window).on("resize.sidebar.ace_hover",function(){e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars").ace_sidebar_hover("reset")}),e(document).on("settings.ace.ace_hover",function(s,t,a){"sidebar_collapsed"==t?e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("reset"):"navbar_fixed"==t&&e(".sidebar[data-sidebar-hover=true]").ace_sidebar_hover("update_vars")});var i=[];e.fn.ace_sidebar_hover=function(a,r){var o,i=this.each(function(){var s=e(this),i=s.data("ace_sidebar_hover"),l="object"==typeof a&&a;i||s.data("ace_sidebar_hover",i=new t(this,l)),"string"==typeof a&&"function"==typeof i[a]&&(o=i[a](r))});return o===s?i:o},e.fn.ace_sidebar_hover.defaults={sub_hover_delay:750,sub_scroll_style:"no-track scroll-thin"}}}(window.jQuery);