{"version":3,"sources":["address.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"address.js","sourcesContent":["/**\r\n * base javascript\r\n * @authors CK-Joey (zhangjie.tk)\r\n * @date    2016-08-19 01:07:00\r\n * @version 1.0\r\n */\r\n'use strict';\r\n\r\n$(function(){\r\n    $('#address_from').submit(function(){\r\n        var fromData = $(this).serializeArray();\r\n        var fromAction = $(this).attr('action');\r\n        var result = true;\r\n        var ajaxData = {};\r\n\r\n        // 验证数据\r\n        $.each(fromData, function(){\r\n            result = verificationFun(this);\r\n            if(!result){return false;}\r\n        });\r\n\r\n        // 组装数据\r\n        $.each(fromData, function(){\r\n            ajaxData[this['name']] = this['value'];\r\n        });\r\n\r\n        if(result){\r\n            $.ajax({\r\n                'url' : fromAction,\r\n                'type': 'post',\r\n                'data' : ajaxData,\r\n                'dataType' : 'json',\r\n            })\r\n            .done(function(re){\r\n                console.log('done', re);\r\n            })\r\n            .error(function(re){\r\n                console.log('error', re);\r\n                window.location.href = '/wap/order';\r\n            });\r\n        }\r\n\r\n        return false;\r\n    });\r\n});\r\n\r\n// 数据验证方法\r\nfunction verificationFun(obj){\r\n    var a = /^1[34578]\\d{9}$/;\r\n    var b = {\r\n        'user_name'    : '收货人',\r\n        'user_phone'   : '手机号码',\r\n        'province'     : '省',\r\n        'city'         : '市',\r\n        'area'         : '区/镇',\r\n        'address_info' : '详细地址'\r\n    };\r\n\r\n    if(obj['value'] == ''){\r\n        alert(b[obj['name']] + '必须填写！');\r\n        return false;\r\n    }\r\n\r\n    if(obj['name'] == 'user_phone'){\r\n        var c = a.test(obj['value']);\r\n\r\n        if(!c){\r\n            alert('请填写正确的手机号码！');\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};"],"sourceRoot":"/source/"}