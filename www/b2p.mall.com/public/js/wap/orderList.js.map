{"version":3,"sources":["orderList.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderList.js","sourcesContent":["/**\r\n * base javascript\r\n * @authors CK-Joey (zhangjie.tk)\r\n * @date    2016-08-19 01:07:00\r\n * @version 1.0\r\n */\r\n'use strict';\r\n\r\nvar order_list = {\r\n    init: function(){\r\n        // tab 切换\r\n        this.tabSwitch();\r\n    },\r\n    tabSwitch: function(){\r\n        $('#order_tab li').on('click', function(){\r\n            var _this = this;\r\n            // 获取请求地址\r\n            var ajaxUrl = $(this).parents('ul').data('url');\r\n            // 获取当前请求类型\r\n            var dataType = $(this).data('type');\r\n            // 请求数据\r\n            $.ajax({\r\n                url: ajaxUrl,\r\n                type: 'get',\r\n                dataType: 'json',\r\n                data: {type: dataType}\r\n            })\r\n            .done(function(re){\r\n                var h = '';\r\n                // 修改下一页页码\r\n                $(_this).parents('ul').data('next-page', re.response_data.next_page);\r\n                // 修改tab样式\r\n                $(_this).addClass('on').siblings('li').removeClass('on');\r\n\r\n                // 拼接列表\r\n                if(re.response_data.order_list.length == null){\r\n                    h = '<p class=\"no_order\">暂无订单！</p>';\r\n                }else{\r\n                    $.each(re.response_data.order_list, function() {\r\n                        h += '<li>'+\r\n                            '<div class=\"order_time\">'+ this.created_at + '</div>'+\r\n                            '<div class=\"goods_info\">'+\r\n                                '<div class=\"goods_img\">'+\r\n                                    '<a href=\"'+ this.goods_url + '\">'+\r\n                                        '<img src=\"'+ (this.img_src ? this.img_src : '') +'\" alt=\"'+ this.orderGoods[0].goods_title +'\">'+\r\n                                    '</a>'+\r\n                                '</div>'+\r\n\r\n                                '<div class=\"goods_name\">'+\r\n                                    '<p>'+ this.orderGoods[0].goods_title + ' '+ this.orderGoods[0].goods_spec + '</p>'+\r\n                                    '<p>数量：'+ this.orderGoods[0].goods_number + '</p>'+\r\n                                    '<p>&nbsp;<!-- 库存：1000件 --></p>'+\r\n                                '</div>'+\r\n\r\n                                '<div class=\"goods_price\">'+\r\n                                    '<span>&yen;<big id=\"goods_price\">'+ this.orderGoods[0].buy_price + '</big>/件</span>'+\r\n                                '</div>'+\r\n                            '</div>'+\r\n                            '<div class=\"goods_sum\">'+\r\n                                '共1件商品'+\r\n                                '<span>实付：<big id=\"pay_price\">&yen;'+ this.order_amount + '</big></span>'+\r\n                            '</div>'+\r\n                            '<div class=\"order_status\">'+\r\n                                '<!-- <span>待支付</span> -->'+\r\n                                '<!-- <a href=\"\" class=\"go_to_buy\">去支付</a> -->'+\r\n                                '<!-- <a href=\"\">取消订单</a> -->'+\r\n                                (this.is_share ? '<a href=\"\" class=\"share_pt\">分享拼团</a>' : '') +\r\n                                (this.join_group ? '<a href=\"'+ this.join_group + '\" class=\"join_pt\">加入拼团</a>' : '')+\r\n                            '</div>'+\r\n                            (this.is_end ? '<div class=\"is_over\">拼团已结束</div>' : '') +\r\n                            (this.wait_cashback ? '<div class=\"backtrack_money\">等待返回拼团优惠金</div>' : '') +\r\n                        '</li>';\r\n                    });\r\n                }\r\n\r\n                // 将拼接的html放到页面容器中\r\n                $('#order_content').html(h);\r\n            })\r\n            .fail(function(){\r\n                console.log('请求接口失败!');\r\n            });\r\n        });\r\n    }\r\n\r\n};\r\n\r\n$(function(){\r\n    order_list.init();\r\n});"],"sourceRoot":"/source/"}