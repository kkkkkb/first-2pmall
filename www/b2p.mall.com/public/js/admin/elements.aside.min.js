!function(s,e){function i(e,i){var a=this,n=s(e),o="right",d=!1,r=n.hasClass("fade"),c=ace.helper.getAttrSettings(e,s.fn.ace_aside.defaults);if(this.settings=s.extend({},s.fn.ace_aside.defaults,i,c),!this.settings.background||i.scroll_style||c.scroll_style||(this.settings.scroll_style="scroll-white no-track"),this.container=this.settings.container,this.container)try{s(this.container).get(0)==document.body&&(this.container=null)}catch(l){}this.container&&(this.settings.backdrop=!1,n.addClass("aside-contained"));var h=n.find(".modal-dialog"),f=n.find(".modal-content"),g=300;this.initiate=function(){e.className=e.className.replace(/(\s|^)aside\-(right|top|left|bottom)(\s|$)/gi,"$1$3"),o=this.settings.placement,o&&(o=s.trim(o.toLowerCase())),o&&/right|top|left|bottom/.test(o)||(o="right"),n.attr("data-placement",o),n.addClass("aside-"+o),/right|left/.test(o)?(d=!0,n.addClass("aside-vc")):n.addClass("aside-hz"),this.settings.fixed&&n.addClass("aside-fixed"),this.settings.background&&n.addClass("aside-dark"),this.settings.offset&&n.addClass("navbar-offset"),this.settings.transition||n.addClass("transition-off"),n.addClass("aside-hidden"),this.insideContainer(),h=n.find(".modal-dialog"),f=n.find(".modal-content"),this.settings.body_scroll||n.on("mousewheel.aside DOMMouseScroll.aside touchmove.aside pointermove.aside",function(e){if(!s.contains(f[0],e.target))return e.preventDefault(),!1}),0==this.settings.backdrop&&n.addClass("no-backdrop")},this.show=function(){if(0==this.settings.backdrop)try{n.data("bs.modal").$backdrop.remove()}catch(e){}this.container?s(this.container).addClass("overflow-hidden"):n.css("position","fixed"),n.removeClass("aside-hidden")},this.hide=function(){this.container&&(this.container.addClass("overflow-hidden"),ace.vars.firefox&&e.offsetHeight),m(),ace.vars.transition&&!r&&n.one("bsTransitionEnd",function(){n.addClass("aside-hidden"),n.css("position",""),a.container&&a.container.removeClass("overflow-hidden")}).emulateTransitionEnd(g)},this.shown=function(){if(m(),s("body").removeClass("modal-open").css("padding-right",""),"invisible"==this.settings.backdrop)try{n.data("bs.modal").$backdrop.css("opacity",0)}catch(e){}var i=d?f.height():h.height();ace.vars.touch?f.addClass("overflow-scroll").css("max-height",i+"px"):f.hasClass("ace-scroll")||f.ace_scroll({size:i,reset:!0,mouseWheelLock:!0,lockAnyway:!this.settings.body_scroll,styleClass:this.settings.scroll_style,observeContent:!0,hideOnIdle:!ace.vars.old_ie,hideDelay:1500}),t.off("resize.modal.aside").on("resize.modal.aside",function(){if(ace.vars.touch)f.css("max-height",(d?f.height():h.height())+"px");else{f.ace_scroll("disable");var s=d?f.height():h.height();f.ace_scroll("update",{size:s}).ace_scroll("enable").ace_scroll("reset")}}).triggerHandler("resize.modal.aside"),a.container&&ace.vars.transition&&!r&&n.one("bsTransitionEnd",function(){a.container.removeClass("overflow-hidden")}).emulateTransitionEnd(g)},this.hidden=function(){t.off(".aside"),ace.vars.transition&&!r||(n.addClass("aside-hidden"),n.css("position",""))},this.insideContainer=function(){var e=s(".main-container"),i=n.find(".modal-dialog");if(i.css({right:"",left:""}),e.hasClass("container")){var a=!1;1==d&&(i.css(o,parseInt((t.width()-e.width())/2)),a=!0),a&&ace.vars.firefox&&ace.helper.redraw(e[0])}},this.flip=function(){var s={right:"left",left:"right",top:"bottom",bottom:"top"};n.removeClass("aside-"+o).addClass("aside-"+s[o]),o=s[o]};var m=function(){var s=n.find(".aside-trigger");if(0!=s.length){s.toggleClass("open");var e=s.find(ace.vars[".icon"]);0!=e.length&&e.toggleClass(e.attr("data-icon1")+" "+e.attr("data-icon2"))}};this.initiate(),this.container&&(this.container=s(this.container)),n.appendTo(this.container||"body")}var t=s(window);s(document).on("show.bs.modal",".modal.aside",function(e){s(".aside.in").modal("hide"),s(this).ace_aside("show")}).on("hide.bs.modal",".modal.aside",function(e){s(this).ace_aside("hide")}).on("shown.bs.modal",".modal.aside",function(e){s(this).ace_aside("shown")}).on("hidden.bs.modal",".modal.aside",function(e){s(this).ace_aside("hidden")}),s(window).on("resize.aside_container",function(){s(".modal.aside").ace_aside("insideContainer")}),s(document).on("settings.ace.aside",function(e,i){"main_container_fixed"==i&&s(".modal.aside").ace_aside("insideContainer")}),s.fn.aceAside=s.fn.ace_aside=function(t,a){var n,o=this.each(function(){var e=s(this),o=e.data("ace_aside"),d="object"==typeof t&&t;o||e.data("ace_aside",o=new i(this,d)),"string"==typeof t&&"function"==typeof o[t]&&(n=a instanceof Array?o[t].apply(o,a):o[t](a))});return n===e?o:n},s.fn.ace_aside.defaults={fixed:!1,background:!1,offset:!1,body_scroll:!1,transition:!0,scroll_style:"scroll-dark no-track",container:null,backdrop:!1,placement:"right"}}(window.jQuery);