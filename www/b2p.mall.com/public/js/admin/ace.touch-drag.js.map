{"version":3,"sources":["ace.touch-drag.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ace.touch-drag.js","sourcesContent":["/**\r\n <b>Custom drag event for touch devices</b> used in scrollbars.\r\n For better touch event handling and extra options a more advanced solution such as <u>Hammer.js</u> is recommended.\r\n*/\r\n\r\n//based on but not dependent on jQuery mobile\r\n/*\r\n* jQuery Mobile v1.3.2\r\n* http://jquerymobile.com\r\n*\r\n* Copyright 2010, 2013 jQuery Foundation, Inc. and other contributors\r\n* Released under the MIT license.\r\n* http://jquery.org/license\r\n*\r\n*/\r\n(function($ , undefined) {\r\n\r\n\tif(!ace.vars['touch']) return;\r\n\r\n\tvar touchStartEvent = \"touchstart MSPointerDown pointerdown\",// : \"mousedown\",\r\n\t\t\ttouchStopEvent  =  \"touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel\",// : \"mouseup\",\r\n\t\t\ttouchMoveEvent  =  \"touchmove MSPointerMove MSPointerHover pointermove\";// : \"mousemove\";\r\n\r\n\r\n\t$.event.special.ace_drag = {\r\n\t\tsetup: function() {\r\n\t\t\tvar min_threshold = 0;\r\n\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\t$this.on(touchStartEvent, function(event) {\t\t\r\n\t\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] :\r\n\t\t\t\t\tevent,\r\n\t\t\t\t\tstart = {\r\n\t\t\t\t\t\t//time: Date.now(),\r\n\t\t\t\t\t\tcoords: [ data.pageX, data.pageY ],\r\n\t\t\t\t\t\torigin: $(event.target)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstop;\r\n\t\t\t\t\t//start.origin.trigger({'type' : 'ace_dragStart', 'start':(start || [-1,-1])});\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar direction = false, dx = 0, dy = 0;\r\n\r\n\t\t\t\tfunction moveHandler(event) {\r\n\t\t\t\t\tif (!start) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\t\t\tevent.originalEvent.touches[ 0 ] :\r\n\t\t\t\t\t\t\tevent;\r\n\t\t\t\t\tstop = {\r\n\t\t\t\t\t\tcoords: [ data.pageX, data.pageY ]\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\t// prevent scrolling\r\n\t\t\t\t\t//if ( Math.abs(start.coords[1] - stop.coords[1]) > 0 || Math.abs(start.coords[0] - stop.coords[01]) > 0 ) {\r\n\t\t\t\t\t\t//event.preventDefault();\r\n\t\t\t\t\t//}\r\n\r\n\r\n\t\t\t\t\tif (start && stop) {\r\n\t\t\t\t\t\tdx = 0;\r\n\t\t\t\t\t\tdy = 0;\r\n\r\n\t\t\t\t\t\tdirection = \r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t Math.abs(dy = start.coords[ 1 ] - stop.coords[ 1 ]) > min_threshold\r\n\t\t\t\t\t\t\t\t&& \r\n\t\t\t\t\t\t\t Math.abs(dx = start.coords[ 0 ] - stop.coords[ 0 ]) <= Math.abs(dy)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t? \r\n\t\t\t\t\t\t\t(dy > 0 ? 'up' : 'down')\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t Math.abs(dx = start.coords[ 0 ] - stop.coords[ 0 ]) > min_threshold\r\n\t\t\t\t\t\t\t\t&& \r\n\t\t\t\t\t\t\t Math.abs( dy ) <= Math.abs(dx)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t(dx > 0 ? 'left' : 'right')\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tfalse;\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tif( direction !== false ) {\r\n\t\t\t\t\t\t\t var retval = {cancel: false}\r\n\t\t\t\t\t\t\t start.origin.trigger({\r\n\t\t\t\t\t\t\t\t'type': 'ace_drag',\r\n\t\t\t\t\t\t\t\t//'start': start.coords,\r\n\t\t\t\t\t\t\t\t//'stop': stop.coords,\r\n\t\t\t\t\t\t\t\t'direction': direction,\r\n\t\t\t\t\t\t\t\t'dx': dx,\r\n\t\t\t\t\t\t\t\t'dy': dy,\r\n\t\t\t\t\t\t\t\t'retval': retval\r\n\t\t\t\t\t\t\t })\r\n\r\n\t\t \t\t\t\t\t  // prevent document scrolling unless retval.cancel == true\r\n\t\t\t\t\t\t\t  if( retval.cancel == false ) event.preventDefault();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstart.coords[0] = stop.coords[0];\r\n\t\t\t\t\tstart.coords[1] = stop.coords[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$this\r\n\t\t\t\t.on(touchMoveEvent, moveHandler)\r\n\t\t\t\t.one(touchStopEvent, function(event) {\r\n\t\t\t\t\t$this.off(touchMoveEvent, moveHandler);\r\n\t\t\t\t\t//start.origin.trigger({'type' : 'ace_dragEnd', 'stop':(stop || [-1,-1])});\r\n\t\t\t\t\t\r\n\t\t\t\t\tstart = stop = undefined;\r\n\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n})(window.jQuery);"],"sourceRoot":"/source/"}