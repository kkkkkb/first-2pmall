{"version":3,"sources":["elements.wysiwyg.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"elements.wysiwyg.js","sourcesContent":["/**\r\n <b>Wysiwyg</b>. A wrapper for Bootstrap wyswiwyg plugin.\r\n It's just a wrapper so you still need to include Bootstrap wysiwyg script first.\r\n*/\r\n(function($ , undefined) {\r\n\t$.fn.ace_wysiwyg = function($options , undefined) {\r\n\t\tvar options = $.extend( {\r\n\t\t\tspeech_button:true,\r\n\t\t\twysiwyg:{}\r\n        }, $options);\r\n\r\n\t\tvar color_values = [\r\n\t\t\t'#ac725e','#d06b64','#f83a22','#fa573c','#ff7537','#ffad46',\r\n\t\t\t'#42d692','#16a765','#7bd148','#b3dc6c','#fbe983','#fad165',\r\n\t\t\t'#92e1c0','#9fe1e7','#9fc6e7','#4986e7','#9a9cff','#b99aff',\r\n\t\t\t'#c2c2c2','#cabdbf','#cca6ac','#f691b2','#cd74e6','#a47ae2',\r\n\t\t\t'#444444'\r\n\t\t]\r\n\r\n\t\tvar button_defaults =\r\n\t\t{\r\n\t\t\t'font' : {\r\n\t\t\t\tvalues:['Arial', 'Courier', 'Comic Sans MS', 'Helvetica', 'Open Sans', 'Tahoma', 'Verdana'],\r\n\t\t\t\ticon:'fa fa-font',\r\n\t\t\t\ttitle:'Font'\r\n\t\t\t},\r\n\t\t\t'fontSize' : {\r\n\t\t\t\tvalues:{5:'Huge', 3:'Normal', 1:'Small'},\r\n\t\t\t\ticon:'fa fa-text-height',\r\n\t\t\t\ttitle:'Font Size'\r\n\t\t\t},\r\n\t\t\t'bold' : {\r\n\t\t\t\ticon : 'fa fa-bold',\r\n\t\t\t\ttitle : 'Bold (Ctrl/Cmd+B)'\r\n\t\t\t},\r\n\t\t\t'italic' : {\r\n\t\t\t\ticon : 'fa fa-italic',\r\n\t\t\t\ttitle : 'Italic (Ctrl/Cmd+I)'\r\n\t\t\t},\r\n\t\t\t'strikethrough' : {\r\n\t\t\t\ticon : 'fa fa-strikethrough',\r\n\t\t\t\ttitle : 'Strikethrough'\r\n\t\t\t},\r\n\t\t\t'underline' : {\r\n\t\t\t\ticon : 'fa fa-underline',\r\n\t\t\t\ttitle : 'Underline'\r\n\t\t\t},\r\n\t\t\t'insertunorderedlist' : {\r\n\t\t\t\ticon : 'fa fa-list-ul',\r\n\t\t\t\ttitle : 'Bullet list'\r\n\t\t\t},\r\n\t\t\t'insertorderedlist' : {\r\n\t\t\t\ticon : 'fa fa-list-ol',\r\n\t\t\t\ttitle : 'Number list'\r\n\t\t\t},\r\n\t\t\t'outdent' : {\r\n\t\t\t\ticon : 'fa fa-outdent',\r\n\t\t\t\ttitle : 'Reduce indent (Shift+Tab)'\r\n\t\t\t},\r\n\t\t\t'indent' : {\r\n\t\t\t\ticon : 'fa fa-indent',\r\n\t\t\t\ttitle : 'Indent (Tab)'\r\n\t\t\t},\r\n\t\t\t'justifyleft' : {\r\n\t\t\t\ticon : 'fa fa-align-left',\r\n\t\t\t\ttitle : 'Align Left (Ctrl/Cmd+L)'\r\n\t\t\t},\r\n\t\t\t'justifycenter' : {\r\n\t\t\t\ticon : 'fa fa-align-center',\r\n\t\t\t\ttitle : 'Center (Ctrl/Cmd+E)'\r\n\t\t\t},\r\n\t\t\t'justifyright' : {\r\n\t\t\t\ticon : 'fa fa-align-right',\r\n\t\t\t\ttitle : 'Align Right (Ctrl/Cmd+R)'\r\n\t\t\t},\r\n\t\t\t'justifyfull' : {\r\n\t\t\t\ticon : 'fa fa-align-justify',\r\n\t\t\t\ttitle : 'Justify (Ctrl/Cmd+J)'\r\n\t\t\t},\r\n\t\t\t'createLink' : {\r\n\t\t\t\ticon : 'fa fa-link',\r\n\t\t\t\ttitle : 'Hyperlink',\r\n\t\t\t\tbutton_text : 'Add',\r\n\t\t\t\tplaceholder : 'URL',\r\n\t\t\t\tbutton_class : 'btn-primary'\r\n\t\t\t},\r\n\t\t\t'unlink' : {\r\n\t\t\t\ticon : 'fa fa-chain-broken',\r\n\t\t\t\ttitle : 'Remove Hyperlink'\r\n\t\t\t},\r\n\t\t\t'insertImage' : {\r\n\t\t\t\ticon : 'fa fa-picture-o',\r\n\t\t\t\ttitle : 'Insert picture',\r\n\t\t\t\tbutton_text : '<i class=\"'+ ace.vars['icon'] + 'fa fa-file\"></i> Choose Image &hellip;',\r\n\t\t\t\tplaceholder : 'Image URL',\r\n\t\t\t\tbutton_insert : 'Insert',\r\n\t\t\t\tbutton_class : 'btn-success',\r\n\t\t\t\tbutton_insert_class : 'btn-primary',\r\n\t\t\t\tchoose_file: true //show the choose file button?\r\n\t\t\t},\r\n\t\t\t'foreColor' : {\r\n\t\t\t\tvalues : color_values,\r\n\t\t\t\ttitle : 'Change Color'\r\n\t\t\t},\r\n\t\t\t'backColor' : {\r\n\t\t\t\tvalues : color_values,\r\n\t\t\t\ttitle : 'Change Background Color'\r\n\t\t\t},\r\n\t\t\t'undo' : {\r\n\t\t\t\ticon : 'fa fa-undo',\r\n\t\t\t\ttitle : 'Undo (Ctrl/Cmd+Z)'\r\n\t\t\t},\r\n\t\t\t'redo' : {\r\n\t\t\t\ticon : 'fa fa-repeat',\r\n\t\t\t\ttitle : 'Redo (Ctrl/Cmd+Y)'\r\n\t\t\t},\r\n\t\t\t'viewSource' : {\r\n\t\t\t\ticon : 'fa fa-code',\r\n\t\t\t\ttitle : 'View Source'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar toolbar_buttons =\r\n\t\toptions.toolbar ||\r\n\t\t[\r\n\t\t\t'font',\r\n\t\t\tnull,\r\n\t\t\t'fontSize',\r\n\t\t\tnull,\r\n\t\t\t'bold',\r\n\t\t\t'italic',\r\n\t\t\t'strikethrough',\r\n\t\t\t'underline',\r\n\t\t\tnull,\r\n\t\t\t'insertunorderedlist',\r\n\t\t\t'insertorderedlist',\r\n\t\t\t'outdent',\r\n\t\t\t'indent',\r\n\t\t\tnull,\r\n\t\t\t'justifyleft',\r\n\t\t\t'justifycenter',\r\n\t\t\t'justifyright',\r\n\t\t\t'justifyfull',\r\n\t\t\tnull,\r\n\t\t\t'createLink',\r\n\t\t\t'unlink',\r\n\t\t\tnull,\r\n\t\t\t'insertImage',\r\n\t\t\tnull,\r\n\t\t\t'foreColor',\r\n\t\t\tnull,\r\n\t\t\t'undo',\r\n\t\t\t'redo',\r\n\t\t\tnull,\r\n\t\t\t'viewSource'\r\n\t\t]\r\n\r\n\r\n\t\tthis.each(function() {\r\n\t\t\tvar toolbar = ' <div class=\"wysiwyg-toolbar btn-toolbar center\"> <div class=\"btn-group\"> ';\r\n\r\n\t\t\tfor(var tb in toolbar_buttons) if(toolbar_buttons.hasOwnProperty(tb)) {\r\n\t\t\t\tvar button = toolbar_buttons[tb];\r\n\t\t\t\tif(button === null){\r\n\t\t\t\t\ttoolbar += ' </div> <div class=\"btn-group\"> ';\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(typeof button == \"string\" && button in button_defaults) {\r\n\t\t\t\t\tbutton = button_defaults[button];\r\n\t\t\t\t\tbutton.name = toolbar_buttons[tb];\r\n\t\t\t\t} else if(typeof button == \"object\" && button.name in button_defaults) {\r\n\t\t\t\t\tbutton = $.extend(button_defaults[button.name] , button);\r\n\t\t\t\t}\r\n\t\t\t\telse continue;\r\n\t\t\t\t\r\n\t\t\t\tvar className = \"className\" in button ? button.className : 'btn-default';\r\n\t\t\t\tswitch(button.name) {\r\n\t\t\t\t\tcase 'font':\r\n\t\t\t\t\t\ttoolbar += ' <a class=\"btn btn-sm '+className+' dropdown-toggle\" data-toggle=\"dropdown\" title=\"'+button.title+'\"><i class=\"'+ ace.vars['icon'] + button.icon+'\"></i><i class=\"' + ace.vars['icon'] + 'fa fa-angle-down icon-on-right\"></i></a> ';\r\n\t\t\t\t\t\ttoolbar += ' <ul class=\"dropdown-menu dropdown-light dropdown-caret\">';\r\n\t\t\t\t\t\tfor(var font in button.values)\r\n\t\t\t\t\t\t\tif(button.values.hasOwnProperty(font))\r\n\t\t\t\t\t\t\t\ttoolbar += ' <li><a data-edit=\"fontName ' + button.values[font] +'\" style=\"font-family:\\''+ button.values[font]  +'\\'\">'+button.values[font]  + '</a></li> '\r\n\t\t\t\t\t\ttoolbar += ' </ul>';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'fontSize':\r\n\t\t\t\t\t\ttoolbar += ' <a class=\"btn btn-sm '+className+' dropdown-toggle\" data-toggle=\"dropdown\" title=\"'+button.title+'\"><i class=\"'+ ace.vars['icon'] + button.icon+'\"></i>&nbsp;<i class=\"'+ ace.vars['icon'] + 'fa fa-angle-down icon-on-right\"></i></a> ';\r\n\t\t\t\t\t\ttoolbar += ' <ul class=\"dropdown-menu dropdown-light dropdown-caret\"> ';\r\n\t\t\t\t\t\tfor(var size in button.values)\r\n\t\t\t\t\t\t\tif(button.values.hasOwnProperty(size))\r\n\t\t\t\t\t\t\t\ttoolbar += ' <li><a data-edit=\"fontSize '+size+'\"><font size=\"'+size+'\">'+ button.values[size] +'</font></a></li> '\r\n\t\t\t\t\t\ttoolbar += ' </ul> ';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'createLink':\r\n\t\t\t\t\t\ttoolbar += ' <div class=\"btn-group\"> <a class=\"btn btn-sm '+className+' dropdown-toggle\" data-toggle=\"dropdown\" title=\"'+button.title+'\"><i class=\"'+ ace.vars['icon'] + button.icon+'\"></i></a> ';\r\n\t\t\t\t\t\ttoolbar += ' <div class=\"dropdown-menu dropdown-caret dropdown-menu-right\">\\\r\n\t\t\t\t\t\t\t <div class=\"input-group\">\\\r\n\t\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"'+button.placeholder+'\" type=\"text\" data-edit=\"'+button.name+'\" />\\\r\n\t\t\t\t\t\t\t\t<span class=\"input-group-btn\">\\\r\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm '+button.button_class+'\" type=\"button\">'+button.button_text+'</button>\\\r\n\t\t\t\t\t\t\t\t</span>\\\r\n\t\t\t\t\t\t\t </div>\\\r\n\t\t\t\t\t\t</div> </div>';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'insertImage':\r\n\t\t\t\t\t\ttoolbar += ' <div class=\"btn-group\"> <a class=\"btn btn-sm '+className+' dropdown-toggle\" data-toggle=\"dropdown\" title=\"'+button.title+'\"><i class=\"'+ ace.vars['icon'] + button.icon+'\"></i></a> ';\r\n\t\t\t\t\t\ttoolbar += ' <div class=\"dropdown-menu dropdown-caret dropdown-menu-right\">\\\r\n\t\t\t\t\t\t\t <div class=\"input-group\">\\\r\n\t\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"'+button.placeholder+'\" type=\"text\" data-edit=\"'+button.name+'\" />\\\r\n\t\t\t\t\t\t\t\t<span class=\"input-group-btn\">\\\r\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn-sm '+button.button_insert_class+'\" type=\"button\">'+button.button_insert+'</button>\\\r\n\t\t\t\t\t\t\t\t</span>\\\r\n\t\t\t\t\t\t\t </div>';\r\n\t\t\t\t\t\t\tif( button.choose_file && 'FileReader' in window ) toolbar +=\r\n\t\t\t\t\t\t\t '<div class=\"space-2\"></div>\\\r\n\t\t\t\t\t\t\t <label class=\"center block no-margin-bottom\">\\\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm '+button.button_class+' wysiwyg-choose-file\" type=\"button\">'+button.button_text+'</button>\\\r\n\t\t\t\t\t\t\t\t<input type=\"file\" data-edit=\"'+button.name+'\" />\\\r\n\t\t\t\t\t\t\t  </label>'\r\n\t\t\t\t\t\ttoolbar += ' </div> </div>';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'foreColor':\r\n\t\t\t\t\tcase 'backColor':\r\n\t\t\t\t\t\ttoolbar += ' <select class=\"hide wysiwyg_colorpicker\" title=\"'+button.title+'\"> ';\r\n\t\t\t\t\t\t$.each(button.values, function (_, color) {\r\n                            toolbar += ' <option value=\"' + color + '\">' + color + '</option> ';\r\n                        });\r\n\t\t\t\t\t\ttoolbar += ' </select> ';\r\n\t\t\t\t\t\ttoolbar += ' <input style=\"display:none;\" disabled class=\"hide\" type=\"text\" data-edit=\"'+button.name+'\" /> ';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase 'viewSource':\r\n\t\t\t\t\t\ttoolbar += ' <a class=\"btn btn-sm '+className+'\" data-view=\"source\" title=\"'+button.title+'\"><i class=\"'+ ace.vars['icon'] + button.icon+'\"></i></a> ';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttoolbar += ' <a class=\"btn btn-sm '+className+'\" data-edit=\"'+button.name+'\" title=\"'+button.title+'\"><i class=\"'+ ace.vars['icon'] + button.icon+'\"></i></a> ';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoolbar += ' </div> ';\r\n\t\t\t////////////\r\n\t\t\tvar speech_input;\r\n\t\t\tif (options.speech_button && 'onwebkitspeechchange' in (speech_input = document.createElement('input'))) {\r\n\t\t\t\ttoolbar += ' <input class=\"wysiwyg-speech-input\" type=\"text\" data-edit=\"inserttext\" x-webkit-speech />';\r\n\t\t\t}\r\n\t\t\tspeech_input = null;\r\n\t\t\t////////////\r\n\t\t\ttoolbar += ' </div> ';\r\n\r\n\r\n\t\t\t//if we have a function to decide where to put the toolbar, then call that\r\n\t\t\tif(options.toolbar_place) toolbar = options.toolbar_place.call(this, toolbar);\r\n\t\t\t//otherwise put it just before our DIV\r\n\t\t\telse toolbar = $(this).before(toolbar).prev();\r\n\r\n\t\t\tif($.fn.tooltip) toolbar.find('a[title]').tooltip({animation:false, container:'body'});\r\n\t\t\t\r\n\t\t\ttoolbar.find('.dropdown-menu input[type=text]').on('click', function() {return false})\r\n\t\t    .on('change', function() {$(this).closest('.dropdown-menu').siblings('.dropdown-toggle').dropdown('toggle')})\r\n\t\t\t.on('keydown', function (e) {\r\n\t\t\t\tif(e.which == 27) {\r\n\t\t\t\t\tthis.value = '';\r\n\t\t\t\t\t$(this).change();\r\n\t\t\t\t}\r\n\t\t\t\telse if(e.which == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t$(this).change();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttoolbar.find('input[type=file]').prev().on(ace.click_event, function (e) { \r\n\t\t\t\t$(this).next().click();\r\n\t\t\t});\r\n\t\t\ttoolbar.find('.wysiwyg_colorpicker').each(function() {\r\n\t\t\t\tvar el = $(this).ace_colorpicker({pull_right:true}).change(function(){\r\n\t\t\t\t\t$(this).nextAll('input').eq(0).val(this.value).change();\r\n\t\t\t\t}).next().find('.btn-colorpicker')\r\n\t\t\t\t\r\n\t\t\t\tif($.fn.tooltip) el.tooltip({title: this.title, animation:false, container:'body'})\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvar self = $(this);\r\n\t\t\t//view source\r\n\t\t\tvar view_source = false;\r\n\t\t\ttoolbar.find('a[data-view=source]').on('click', function(e){\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\t\t\tif(!view_source) {\r\n\t\t\t\t\t$('<textarea />')\r\n\t\t\t\t\t.css({'width':self.outerWidth(), 'height':self.outerHeight()})\r\n\t\t\t\t\t.val(self.html())\r\n\t\t\t\t\t.insertAfter(self)\r\n\t\t\t\t\tself.hide();\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(this).addClass('active');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar textarea = self.next();\r\n\t\t\t\t\tself.html(textarea.val()).show();\r\n\t\t\t\t\ttextarea.remove();\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(this).removeClass('active');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tview_source = !view_source;\r\n\t\t\t});\r\n\r\n\r\n\t\t\tvar $options = $.extend({}, { activeToolbarClass: 'active' , toolbarSelector : toolbar }, options.wysiwyg || {})\r\n\t\t\t$(this).wysiwyg( $options );\r\n\t\t});\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n})(window.jQuery);\r\n\r\n"],"sourceRoot":"/source/"}