{"version":3,"sources":["ace.settings.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ace.settings.js","sourcesContent":["/**\r\n <b>Settings box</b>. It's good for demo only. You don't need this.\r\n*/\r\n(function($ , undefined) {\r\n\r\n\t// 防止csrf攻击\r\n\t$.ajaxSetup({\r\n\t    headers: {\r\n\t        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n\t    }\r\n\t});\r\n\r\n $('#ace-settings-btn').on(ace.click_event, function(e){\r\n\te.preventDefault();\r\n\r\n\t$(this).toggleClass('open');\r\n\t$('#ace-settings-box').toggleClass('open');\r\n })\r\n\r\n $('#ace-settings-navbar').on('click', function(){\r\n\tace.settingFunction.navbar_fixed(null, this.checked);\r\n })\r\n\r\n $('#ace-settings-sidebar').on('click', function(){\r\n\tace.settingFunction.sidebar_fixed(null, this.checked);\r\n })\r\n\r\n $('#ace-settings-breadcrumbs').on('click', function(){\r\n\tace.settingFunction.breadcrumbs_fixed(null, this.checked);\r\n })\r\n\r\n $('#ace-settings-add-container').on('click', function(){\r\n\tace.settingFunction.main_container_fixed(null, this.checked);\r\n })\r\n\r\n\r\n\r\n $('#ace-settings-compact').on('click', function(){\r\n\tif(this.checked) {\r\n\t\t$('#sidebar').addClass('compact');\r\n\t\tvar hover = $('#ace-settings-hover');\r\n\t\tif( hover.length > 0 ) {\r\n\t\t\thover.removeAttr('checked').trigger('click');\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\t$('#sidebar').removeClass('compact');\r\n\t\t$('#sidebar[data-sidebar-scroll=true]').ace_sidebar_scroll('reset')\r\n\t}\r\n\t\r\n\tif(ace.vars['old_ie']) ace.helper.redraw($('#sidebar')[0], true);\r\n })\r\n\r\n\r\n $('#ace-settings-highlight').on('click', function(){\r\n\tif(this.checked) $('#sidebar .nav-list > li').addClass('highlight');\r\n\telse $('#sidebar .nav-list > li').removeClass('highlight');\r\n\t\r\n\tif(ace.vars['old_ie']) ace.helper.redraw($('#sidebar')[0]);\r\n })\r\n\r\n\r\n $('#ace-settings-hover').on('click', function(){\r\n\tif($('#sidebar').hasClass('h-sidebar')) return;\r\n\tif(this.checked) {\r\n\t\t$('#sidebar li').addClass('hover')\r\n\t\t.filter('.open').removeClass('open').find('> .submenu').css('display', 'none');\r\n\t\t//and remove .open items\r\n\t}\r\n\telse {\r\n\t\t$('#sidebar li.hover').removeClass('hover');\r\n\r\n\t\tvar compact = $('#ace-settings-compact');\r\n\t\tif( compact.length > 0 && compact.get(0).checked ) {\r\n\t\t\tcompact.trigger('click');\r\n\t\t}\r\n\t}\r\n\t\r\n\t$('.sidebar[data-sidebar-hover=true]').ace_sidebar_hover('reset')\r\n\t$('.sidebar[data-sidebar-scroll=true]').ace_sidebar_scroll('reset')\r\n\t\r\n\tif(ace.vars['old_ie']) ace.helper.redraw($('#sidebar')[0]);\r\n })\r\n\r\n \r\n \r\n //these are only for Ace demo! \r\n //we want to save only important states(sidebar-fixed and sidebar-collapsed) so before fixing sidebar or collapsing it, hide mobile menu or remove extra classes!\r\n //and then save class name, etc to localStorage for later retrieval\r\n \r\n /**\r\n $(document).on('presettings.ace', function(ev, event_name, event_val, event_source, save_state) {\r\n\tif( !save_state ) return false;\r\n\t\r\n\tvar $event_name = event_name;\r\n\tif( (event_name == 'sidebar_fixed' || event_name == 'sidebar_collapsed') ) {\r\n\t\tvar sidebar = event_source ? $(event_source) : $('#sidebar');\r\n\t\tvar tmpClassName = sidebar.attr('class');\r\n\t\tsidebar.attr('class', event_name == 'sidebar_fixed' ? 'sidebar-fixed' : 'menu-min');//don't save these classes in demo\r\n\t\r\n\t\t//we don't use 'one' because other 'settings.ace' events could be triggered before the 'sidebar_*' one!\r\n\t\t$(document).on('settings.ace.sidebar', function(ev, event_name) {\r\n\t\t\tif( (event_name == $event_name) ) {\r\n\t\t\t\tsidebar.addClass(tmpClassName);\r\n\t\t\t\t$(document).off('settings.ace.sidebar');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\telse if( (event_name == 'navbar_fixed') ) {\r\n\t\tvar navbar = event_source ? $(event_source) : $('#navbar');\r\n\t\tvar tmpClassName = navbar.attr('class');\r\n\t\tnavbar.attr('class', 'navbar-fixed-top');//don't save these classes in demo\r\n\t\r\n\t\t//we don't use 'one' because other 'settings.ace' events could be triggered before the 'sidebar_*' one!\r\n\t\t$(document).on('settings.ace.navbar', function(ev, event_name) {\r\n\t\t\tif( (event_name == $event_name) ) {\r\n\t\t\t\tnavbar.addClass(tmpClassName);\r\n\t\t\t\t$(document).off('settings.ace.navbar');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n });\r\n */\r\n\r\n\r\n //check/uncheck the checkbox in settings box\r\n var checkbox = this;\r\n $(document).on('settings.ace', function(ev, event_name, event_val, event_source, save_state) {\r\n\tvar checkbox = '';\r\n\tswitch(event_name) {\r\n\t\tcase 'navbar_fixed':\r\n\t\t\tcheckbox = 'ace-settings-navbar';\r\n\t\tbreak;\r\n\t\t\r\n\t\tcase 'sidebar_fixed':\r\n\t\t\tcheckbox = 'ace-settings-sidebar';\r\n\t\tbreak;\r\n\t\t\r\n\t\tcase 'breadcrumbs_fixed':\r\n\t\t\tcheckbox = 'ace-settings-breadcrumbs';\r\n\t\tbreak;\r\n\t\t\r\n\t\tcase 'main_container_fixed':\r\n\t\t\tcheckbox = 'ace-settings-add-container';\r\n\t\tbreak;\r\n\t}\r\n\t\r\n\tif( checkbox && (checkbox = document.getElementById(checkbox)) ) {\r\n\t\t$(checkbox).prop('checked', event_val);\r\n\r\n\t\ttry {\r\n\t\t\tif(save_state == true) ace.settings.saveState(checkbox, 'checked');\r\n\t\t} catch(e) {}\r\n\t}\r\n });\r\n\r\n\r\n  ////\r\n  ace.settingFunction = {\r\n\tnavbar_fixed : function(navbar, fixed , save, chain) {\r\n\t\tif(ace.vars['very_old_ie']) return false;\r\n\t\t\r\n\t\tvar navbar = navbar || '#navbar';\r\n\t\tif(typeof navbar === 'string') navbar = $(navbar).get(0);\r\n\t\tif(!navbar) return false;\r\n\t\r\n\t\tvar fixed = fixed || false;\r\n\t\tvar save = typeof save !== 'undefined' ? save : true;\r\n\t\t\r\n\r\n\t\tvar event;\r\n\t\t$(document).trigger(event = $.Event('presettings.ace'), ['navbar_fixed' , fixed , navbar, save]);\r\n\t\tif (event.isDefaultPrevented()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\r\n\t\tif(chain !== false && !fixed) {\r\n\t\t\t//unfix sidebar as well\r\n\t\t\tvar sidebar = $('#sidebar');\r\n\t\t\tif(sidebar.hasClass('sidebar-fixed')) {\r\n\t\t\t\tace.settingFunction.sidebar_fixed(sidebar.get(0), false, save);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(fixed) {\r\n\t\t\t$(navbar).addClass('navbar-fixed-top');\r\n\t\t} else {\r\n\t\t\t$(navbar).removeClass('navbar-fixed-top');\r\n\t\t}\r\n\r\n\t\tif(save) {\r\n\t\t\tace.settings.saveState(navbar, 'class', 'navbar-fixed-top', fixed);//the 'last' boolean means whether to append this classname or to remove it from previous value\t\t\t\r\n\t\t}\r\n\r\n\t\t$(document).trigger('settings.ace', ['navbar_fixed' , fixed , navbar, save]);\r\n\t},\r\n\r\n\r\n\tsidebar_fixed : function(sidebar, fixed , save, chain) {\r\n\t\tif(ace.vars['very_old_ie']) return false;\r\n\t\t\r\n\t\tvar sidebar = sidebar || '#sidebar';\r\n\t\tif(typeof sidebar === 'string') sidebar = $(sidebar).get(0);\r\n\t\tif(!sidebar) return false;\r\n\t\t\r\n\r\n\t\tvar fixed = fixed || false;\r\n\t\tvar save = typeof save !== 'undefined' ? save : true;\r\n\t\t\r\n\t\t\r\n\t\tvar event;\r\n\t\t$(document).trigger(event = $.Event('presettings.ace'), ['sidebar_fixed' , fixed , sidebar, save]);\r\n\t\tif (event.isDefaultPrevented()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(chain !== false) {\r\n\t\t\tif(fixed) {\r\n\t\t\t\t//fix navbar as well\r\n\t\t\t\tace.settingFunction.navbar_fixed(null, true, save);\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\t\t\t\t//unfix breadcrumbs as well\r\n\t\t\t\tace.settingFunction.breadcrumbs_fixed(null, false, save);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar toggler = $('#menu-toggler');\r\n\t\tif(fixed) {\r\n\t\t\t$(sidebar).addClass('sidebar-fixed');\r\n\t\t\ttoggler.addClass('fixed');\r\n\t\t} else {\r\n\t\t\t$(sidebar).removeClass('sidebar-fixed');\r\n\t\t\ttoggler.removeClass('fixed');\r\n\t\t}\r\n\t\t\r\n\t\tif( save ) {\r\n\t\t\tace.settings.saveState(sidebar, 'class', 'sidebar-fixed', fixed);//the 'last' boolean means whether to append this classname or to remove it from previous value\r\n\t\t\tif(toggler.length != 0) ace.settings.saveState(toggler[0], 'class', 'fixed', fixed);\r\n\t\t}\r\n\r\n\t\t$(document).trigger('settings.ace', ['sidebar_fixed' , fixed , sidebar, save]);\r\n\t},\r\n\t\r\n\t//fixed position\r\n\tbreadcrumbs_fixed : function(breadcrumbs, fixed , save, chain) {\r\n\t\tif(ace.vars['very_old_ie']) return false;\r\n\r\n\t\tvar breadcrumbs = breadcrumbs || '#breadcrumbs';\r\n\t\tif(typeof breadcrumbs === 'string') breadcrumbs = $(breadcrumbs).get(0);\r\n\t\tif(!breadcrumbs) return false;\r\n\t\r\n\t\tvar fixed = fixed || false;\r\n\t\tvar save = typeof save !== 'undefined' ? save : true;\r\n\t\t\r\n\t\t\r\n\t\tvar event;\r\n\t\t$(document).trigger(event = $.Event('presettings.ace'), ['breadcrumbs_fixed' , fixed , breadcrumbs, save]);\r\n\t\tif (event.isDefaultPrevented()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif(fixed && chain !== false) {\r\n\t\t\t//fix sidebar and navbar as well\r\n\t\t\tace.settingFunction.sidebar_fixed(null, true, save);\r\n\t\t}\r\n\r\n\t\tif(fixed) {\r\n\t\t\t$(breadcrumbs).addClass('breadcrumbs-fixed');\r\n\t\t} else {\r\n\t\t\t$(breadcrumbs).removeClass('breadcrumbs-fixed');\r\n\t\t}\r\n\t\t\r\n\t\tif( save ) {\r\n\t\t\tace.settings.saveState(breadcrumbs, 'class', 'breadcrumbs-fixed', fixed);\r\n\t\t}\r\n\r\n\t\t$(document).trigger('settings.ace', ['breadcrumbs_fixed' , fixed , breadcrumbs, save]);\r\n\t},\r\n\r\n\t//fixed size\r\n\tmain_container_fixed : function(main_container, fixed , save) {\r\n\t\tif(ace.vars['very_old_ie']) return false;\r\n\t\t\r\n\t\tvar fixed = fixed || false;//fixed width? inside .container\r\n\t\tvar save = typeof save !== 'undefined' ? save : true;\r\n\t\t\r\n\t\tvar main_container = main_container || '#main-container';\r\n\t\tif(typeof main_container === 'string') main_container = $(main_container).get(0);\r\n\t\tif(!main_container) return false;\r\n\t\t\r\n\t\t\r\n\t\tvar event;\r\n\t\t$(document).trigger(event = $.Event('presettings.ace'), ['main_container_fixed' , fixed , main_container, save]);\r\n\t\tif (event.isDefaultPrevented()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tvar navbar_container = $('#navbar-container');\r\n\t\tif(fixed) {\r\n\t\t\t$(main_container).addClass('container');\r\n\t\t\t$(navbar_container).addClass('container');\r\n\t\t} else {\r\n\t\t\t$(main_container).removeClass('container');\r\n\t\t\t$(navbar_container).removeClass('container');\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif( save ) {\r\n\t\t\tace.settings.saveState(main_container, 'class', 'container', fixed);\r\n\t\t\tif(navbar_container.length != 0) ace.settings.saveState(navbar_container[0], 'class', 'container', fixed);\r\n\t\t}\r\n\r\n\t\t\r\n\t\tif(navigator.userAgent.match(/webkit/i)) {\r\n\t\t\t//webkit has a problem redrawing and moving around the sidebar background in realtime\r\n\t\t\t//so we do this, to force redraw\r\n\t\t\t//there will be no problems with webkit if the \".container\" class is statically put inside HTML code.\r\n\t\t\t$('#sidebar').toggleClass('menu-min')\r\n\t\t\tsetTimeout(function() {\t$('#sidebar').toggleClass('menu-min') } , 10)\r\n\t\t}\r\n\t\t\r\n\t\t$(document).trigger('settings.ace', ['main_container_fixed', fixed, main_container, save]);\r\n\t}\r\n\t/**\r\n\t,\r\n\tsidebar_collapsed : function(sidebar, collapsed , save) {\r\n\t\tif(ace.vars['very_old_ie']) return false;\r\n\r\n\t\tvar sidebar = sidebar || '#sidebar';\r\n\t\tif(typeof sidebar === 'string') sidebar = $(sidebar).get(0);\r\n\t\tif(!sidebar) return false;\r\n\r\n\t\tvar collapsed = collapsed || false;\r\n\t\tvar save = typeof save !== 'undefined' ? save : true;\r\n\t\t\r\n\t\t\r\n\t\tvar event;\r\n\t\t$(document).trigger(event = $.Event('presettings.ace'), ['sidebar_collapsed' , collapsed , sidebar, save]);\r\n\t\tif (event.isDefaultPrevented()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\r\n\t\tif(collapsed) {\r\n\t\t\t$('#sidebar').addClass('menu-min');\r\n\t\t} else {\r\n\t\t\t$('#sidebar').removeClass('menu-min');\r\n\t\t}\r\n\t\t\r\n\t\tif( save ) {\r\n\t\t\tace.settings.saveState(sidebar, 'class', 'menu-min', collapsed);//the 'last' boolean means whether to append this classname or to remove it from previous value\r\n\t\t}\r\n\r\n\t\t$(document).trigger('settings.ace', ['sidebar_collapsed' , collapsed, sidebar, save]);\r\n\t}\r\n\t*/\r\n  }\r\n\r\n\r\n})(jQuery);"],"sourceRoot":"/source/"}