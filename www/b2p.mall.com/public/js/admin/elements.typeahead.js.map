{"version":3,"sources":["elements.typeahead.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"elements.typeahead.js","sourcesContent":["/**\r\n  <b>Bootstrap 2 typeahead plugin.</b> With Bootstrap <u>3</u> it's been dropped in favor of a more advanced separate plugin.\r\n  Pretty good for simple cases such as autocomplete feature of the search box and required for <u class=\"text-danger\">Tag input</u> plugin.\r\n*/\r\n\r\n/* =============================================================\r\n * bootstrap-typeahead.js v2.3.2\r\n * http://twitter.github.com/bootstrap/javascript.html#typeahead\r\n * =============================================================\r\n * Copyright 2012 Twitter, Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ============================================================ */\r\n\r\n\r\n!function($){\r\n\r\n  \"use strict\"; // jshint ;_;\r\n\r\n\r\n /* TYPEAHEAD PUBLIC CLASS DEFINITION\r\n  * ================================= */\r\n\r\n  var Typeahead = function (element, options) {\r\n    this.$element = $(element)\r\n    this.options = $.extend({}, $.fn.bs_typeahead.defaults, options)\r\n    this.matcher = this.options.matcher || this.matcher\r\n    this.sorter = this.options.sorter || this.sorter\r\n    this.highlighter = this.options.highlighter || this.highlighter\r\n    this.updater = this.options.updater || this.updater\r\n    this.source = this.options.source\r\n    this.$menu = $(this.options.menu)\r\n    this.shown = false\r\n    this.listen()\r\n  }\r\n\r\n  Typeahead.prototype = {\r\n\r\n    constructor: Typeahead\r\n\r\n  , select: function () {\r\n      var val = this.$menu.find('.active').attr('data-value')\r\n      this.$element\r\n        .val(this.updater(val))\r\n        .change()\r\n      return this.hide()\r\n    }\r\n\r\n  , updater: function (item) {\r\n      return item\r\n    }\r\n\r\n  , show: function () {\r\n      var pos = $.extend({}, this.$element.position(), {\r\n        height: this.$element[0].offsetHeight\r\n      })\r\n\r\n      this.$menu\r\n        .insertAfter(this.$element)\r\n        .css({\r\n          top: pos.top + pos.height\r\n        , left: pos.left\r\n        })\r\n        .show()\r\n\r\n      this.shown = true\r\n      return this\r\n    }\r\n\r\n  , hide: function () {\r\n      this.$menu.hide()\r\n      this.shown = false\r\n      return this\r\n    }\r\n\r\n  , lookup: function (event) {\r\n      var items\r\n\r\n      this.query = this.$element.val()\r\n\r\n      if (!this.query || this.query.length < this.options.minLength) {\r\n        return this.shown ? this.hide() : this\r\n      }\r\n\r\n      items = $.isFunction(this.source) ? this.source(this.query, $.proxy(this.process, this)) : this.source\r\n\r\n      return items ? this.process(items) : this\r\n    }\r\n\r\n  , process: function (items) {\r\n      var that = this\r\n\r\n      items = $.grep(items, function (item) {\r\n        return that.matcher(item)\r\n      })\r\n\r\n      items = this.sorter(items)\r\n\r\n      if (!items.length) {\r\n        return this.shown ? this.hide() : this\r\n      }\r\n\r\n      return this.render(items.slice(0, this.options.items)).show()\r\n    }\r\n\r\n  , matcher: function (item) {\r\n      return ~item.toLowerCase().indexOf(this.query.toLowerCase())\r\n    }\r\n\r\n  , sorter: function (items) {\r\n      var beginswith = []\r\n        , caseSensitive = []\r\n        , caseInsensitive = []\r\n        , item\r\n\r\n      while (item = items.shift()) {\r\n        if (!item.toLowerCase().indexOf(this.query.toLowerCase())) beginswith.push(item)\r\n        else if (~item.indexOf(this.query)) caseSensitive.push(item)\r\n        else caseInsensitive.push(item)\r\n      }\r\n\r\n      return beginswith.concat(caseSensitive, caseInsensitive)\r\n    }\r\n\r\n  , highlighter: function (item) {\r\n      var query = this.query.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&')\r\n      return item.replace(new RegExp('(' + query + ')', 'ig'), function ($1, match) {\r\n        return '<strong>' + match + '</strong>'\r\n      })\r\n    }\r\n\r\n  , render: function (items) {\r\n      var that = this\r\n\r\n      items = $(items).map(function (i, item) {\r\n        i = $(that.options.item).attr('data-value', item)\r\n        i.find('a').html(that.highlighter(item))\r\n        return i[0]\r\n      })\r\n\r\n      items.first().addClass('active')\r\n      this.$menu.html(items)\r\n      return this\r\n    }\r\n\r\n  , next: function (event) {\r\n      var active = this.$menu.find('.active').removeClass('active')\r\n        , next = active.next()\r\n\r\n      if (!next.length) {\r\n        next = $(this.$menu.find('li')[0])\r\n      }\r\n\r\n      next.addClass('active')\r\n    }\r\n\r\n  , prev: function (event) {\r\n      var active = this.$menu.find('.active').removeClass('active')\r\n        , prev = active.prev()\r\n\r\n      if (!prev.length) {\r\n        prev = this.$menu.find('li').last()\r\n      }\r\n\r\n      prev.addClass('active')\r\n    }\r\n\r\n  , listen: function () {\r\n      this.$element\r\n        .on('focus',    $.proxy(this.focus, this))\r\n        .on('blur',     $.proxy(this.blur, this))\r\n        .on('keypress', $.proxy(this.keypress, this))\r\n        .on('keyup',    $.proxy(this.keyup, this))\r\n\r\n      if (this.eventSupported('keydown')) {\r\n        this.$element.on('keydown', $.proxy(this.keydown, this))\r\n      }\r\n\r\n      this.$menu\r\n        .on('click', $.proxy(this.click, this))\r\n        .on('mouseenter', 'li', $.proxy(this.mouseenter, this))\r\n        .on('mouseleave', 'li', $.proxy(this.mouseleave, this))\r\n    }\r\n\r\n  , eventSupported: function(eventName) {\r\n      var isSupported = eventName in this.$element\r\n      if (!isSupported) {\r\n        this.$element.setAttribute(eventName, 'return;')\r\n        isSupported = typeof this.$element[eventName] === 'function'\r\n      }\r\n      return isSupported\r\n    }\r\n\r\n  , move: function (e) {\r\n      if (!this.shown) return\r\n\r\n      switch(e.keyCode) {\r\n        case 9: // tab\r\n        case 13: // enter\r\n        case 27: // escape\r\n          e.preventDefault()\r\n          break\r\n\r\n        case 38: // up arrow\r\n          e.preventDefault()\r\n          this.prev()\r\n          break\r\n\r\n        case 40: // down arrow\r\n          e.preventDefault()\r\n          this.next()\r\n          break\r\n      }\r\n\r\n      e.stopPropagation()\r\n    }\r\n\r\n  , keydown: function (e) {\r\n      this.suppressKeyPressRepeat = ~$.inArray(e.keyCode, [40,38,9,13,27])\r\n      this.move(e)\r\n    }\r\n\r\n  , keypress: function (e) {\r\n      if (this.suppressKeyPressRepeat) return\r\n      this.move(e)\r\n    }\r\n\r\n  , keyup: function (e) {\r\n      switch(e.keyCode) {\r\n        case 40: // down arrow\r\n        case 38: // up arrow\r\n        case 16: // shift\r\n        case 17: // ctrl\r\n        case 18: // alt\r\n          break\r\n\r\n        case 9: // tab\r\n        case 13: // enter\r\n          if (!this.shown) return\r\n          this.select()\r\n          break\r\n\r\n        case 27: // escape\r\n          if (!this.shown) return\r\n          this.hide()\r\n          break\r\n\r\n        default:\r\n          this.lookup()\r\n      }\r\n\r\n      e.stopPropagation()\r\n      e.preventDefault()\r\n  }\r\n\r\n  , focus: function (e) {\r\n      this.focused = true\r\n    }\r\n\r\n  , blur: function (e) {\r\n      this.focused = false\r\n      if (!this.mousedover && this.shown) this.hide()\r\n    }\r\n\r\n  , click: function (e) {\r\n      e.stopPropagation()\r\n      e.preventDefault()\r\n      this.select()\r\n      this.$element.focus()\r\n    }\r\n\r\n  , mouseenter: function (e) {\r\n      this.mousedover = true\r\n      this.$menu.find('.active').removeClass('active')\r\n      $(e.currentTarget).addClass('active')\r\n    }\r\n\r\n  , mouseleave: function (e) {\r\n      this.mousedover = false\r\n      if (!this.focused && this.shown) this.hide()\r\n    }\r\n\r\n  }\r\n\r\n\r\n  /* TYPEAHEAD PLUGIN DEFINITION\r\n   * =========================== */\r\n\r\n  var old = $.fn.bs_typeahead\r\n\r\n  $.fn.bs_typeahead = function (option) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n        , data = $this.data('bs_typeahead')\r\n        , options = typeof option == 'object' && option\r\n      if (!data) $this.data('bs_typeahead', (data = new Typeahead(this, options)))\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  }\r\n\r\n  $.fn.bs_typeahead.defaults = {\r\n    source: []\r\n  , items: 8\r\n  , menu: '<ul class=\"typeahead dropdown-menu\"></ul>'\r\n  , item: '<li><a href=\"#\"></a></li>'\r\n  , minLength: 1\r\n  }\r\n\r\n  $.fn.bs_typeahead.Constructor = Typeahead\r\n\r\n\r\n /* TYPEAHEAD NO CONFLICT\r\n  * =================== */\r\n\r\n  $.fn.bs_typeahead.noConflict = function () {\r\n    $.fn.bs_typeahead = old\r\n    return this\r\n  }\r\n\r\n\r\n /* TYPEAHEAD DATA-API\r\n  * ================== */\r\n\r\n  $(document).on('focus.bs_typeahead.data-api', '[data-provide=\"bs_typeahead\"]', function (e) {\r\n    var $this = $(this)\r\n    if ($this.data('bs_typeahead')) return\r\n    $this.bs_typeahead($this.data())\r\n  })\r\n\r\n}(window.jQuery);"],"sourceRoot":"/source/"}